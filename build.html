<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Showdown Guide</title>
        <meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="keywords" content="naraka bladepoint, showdown, campaign, pve, omnious, guide, guides, naraka, souljades, 
			defuse, aegis, sense, progression, leveling, recasting, converting, conversion, dps, build, builds">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">

        <!-- Primary Meta Tags -->
		<meta name="title" content="Naraka Bladepoint Showdown Guide">
		<meta name="description" content="A Guide to Setting Up Builds in Showdown.">
		<meta name="author" content="xZer0x">

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://dark-zer0.github.io/Showdown/">
		<meta property="og:title" content="Naraka Bladepoint Showdown Guide">
		<meta property="og:description" content="A guide designed to help players progress in Naraka's Campaign mode.">
		<meta property="og:image" content="https://dark-zer0.github.io/Showdown/img/site/banner3.jpg">

		<!-- Twitter / Discord -->
		<meta property="twitter:card" content="summary_large_image">
		<meta property="twitter:url" content="https://dark-zer0.github.io/Showdown/">
		<meta property="twitter:title" content="Naraka Bladepoint Showdown Guide">
		<meta property="twitter:description" content="A guide designed to help player progression in Naraka's Campaign mode.">
		<meta property="twitter:image" content="https://dark-zer0.github.io/Showdown/img/site/banner3.jpg">

        <!-- Website -->
		<link rel="shortcut icon" type="image/x-icon" href="img/site/icon.png">
		<link rel="icon" href="img/site/icon.png" type="images" sizes="32x32"> 
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="css/bootstrap.css">
		<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet"> 
		<script src="https://kit.fontawesome.com/6d78549c29.js" crossorigin="anonymous"></script>
		<link href="styles.css" rel="stylesheet">
		<script src="src/navbar.js"></script>
		<script src="src/contents.js"></script>
    </head>
    <body>
		<!-- Navigation Bar -->
		<div id="navbar"></div>
			<!-- Load Navigation Bar Script -->
			<script>
				fetch('navbar.html')
					.then(response => response.text())
					.then(data => {
					document.getElementById('navbar').innerHTML = data;
				});
			</script>

		<!-- Title -->
		<h1 id="title">BUILDS</h1>

		<!-- Page Navigation -->
		<!-- <nav class="page-nav">
			<button onclick="showDiv(1, this)" class="page-nav-item">Jade Set Ups</button>
			<button onclick="showDiv(2, this)" class="page-nav-item">Element Jades</button>
			<button onclick="showDiv(3, this)" class="page-nav-item">Potential Plans</button>
		</nav> -->

		<!-- Return to Top Button -->
		<button type="button" id="back-to-top" title="Go to top of page">
			<img src="img/site/uparrow.png" alt="Up arrow">
		</button>
		<script src="src/return.js"></script>

		<!-- Page Content -->
		<div id="content" class="nav3">

			<!-- Jade Set Ups -->
			<div id="div1" class="content" style="display: none;">
				<!-- <h1>Jade Set Ups</h1> -->
				<p class="center">
					The following builds are listed with no particular order in mind aside from their main damage source.
					In terms of damage output, right now Ice builds are at the top, followed by Bow builds. 
					<br>Difficulty denotes how hard a build to use it effectively, while Power denotes the DPS ceiling in respect to other builds.
					<br><br><strong><u>Color Coded Names</u></strong>
					<br>Each Souljade's name will have a color assigned to it 
					that tells the minimum difficulty of the missions that can drop it (including Nirriti's Ruins).
					<br><br>White = Commemorative Souljade (buy from the Narakapedia).
					<br><span style="color:lightskyblue">Light Blue = Normal and above difficulty.</span>
					<br><span style="color:rgb(180, 1, 180);">Purple = Hard and above difficulty.</span>
					<br><span style="color:red">Red = Nightscream difficulty.</span>
					<br><span style="color:chocolate">Brown = Enigma Domain.</span>
				</p>

				<!-- Build Sections -->
				<!-- <hr><h2>Build Sections</h2>
				<ul class="nodot">
					<li><a href="#Universal" class="universal-txt">Universal Builds</a></li>
					<li>
						<a href="#Exclusive" class="exclusive-txt">Exclusive Builds</a>
						<ul class="nodot">
							<li><a href="#Valda" class="sub-txt burn-txt">Valda's Dedicated</a></li>
							<li><a href="#YotoHime" class="sub-txt poison-txt">Yoto's Dedicated</a></li>
							<li><a href="#Tarka" class="sub-txt burn-txt">Tarka's Dedicated</a></li>
							<li><a href="#Kylin" class="sub-txt thunder-txt">Kylin's Dedicated</a></li>
							<li><a href="#Kurumi" class="sub-txt poison-txt">Kurumi's Dedicated</a></li>
							<li><a href="#Ziping" class="sub-txt ice-txt">Ziping's Dedicated</a></li>
							<li><a href="#Wuchen" class="sub-txt poison-txt">Wuchen's Dedicated</a></li>
						</ul>
					</li>
				</ul> -->
				<div id="builds"></div>
				<div id="error"></div>

				<script>
					// Function to generate star ratings
					function generateStars(rating, maxStars = 5) {
					let stars = '';
					for (let i = 1; i <= maxStars; i++) {
						if (i <= Math.floor(rating)) {
						stars += `<img src="img/site/filledstar.png" alt="Filled Star" class="icon">`;
						} else if (i === Math.ceil(rating) && rating % 1 !== 0) {
						stars += `<img src="img/site/halffilledstar.png" alt="Half-Filled Star" class="icon">`;
						} else {
						stars += `<img src="img/site/unfilledstar.png" alt="Empty Star" class="icon">`;
						}
					}
					return stars;
					}

					// Function to render a single build
					function renderBuild(build) {
					return `
						<div class="exclusive build">
						<h3 class="build-name">${build.name}</h3>
						<div class="section">
							<h4 class="section-name">Souljades</h4>
							<div class="souljades">
							${build.souljades.map(souljade => `
								<div class="souljade toggled-description">
								<div class="${souljade.type}"><img src="${souljade.image}" alt="${souljade.name}"><br>${souljade.name}</div>
								<div class="description">${souljade.description}</div>
								</div>
							`).join('')}
							</div>
						</div>
						<div class="attributes section">
							<p class="label">Souljade Attributes</p>
							<p class="caption">
							<strong>Target Attributes</strong><br>${build.souljadeAttributes.target.join('<br>')}
							<br><br><strong>Placeholder Attribute</strong><br>${build.souljadeAttributes.placeholder.join('<br>')}
							</p>
						</div>
						<div class="potential section">
							<p class="label">Potential Plan</p>
							<img src="${build.potentialPlan.image}" alt="${build.potentialPlan.alt}" class="potential-plan">
						</div>
						<div class="wielding section">
							<p class="label">Wielding Type</p>
							<p class="caption">
							${build.wieldingTypes.map(wt => `
								+${wt.count} <img src="${wt.image}" alt="${wt.name}" class="wielding"> ${wt.name}
								<img src="${wt.image}" alt="${wt.name}" class="wielding">
              				`).join('<br>')}
							</p>
						</div>
						<div class="description section">
							<p class="label">Description</p>
							<p class="caption">${build.description}</p>
						</div>
						<div class="section">
							<p class="label">Recommended Heroes</p>
							<p class="caption">${build.recommendedHeroes.join(' & ')}</p>
						</div>
						<div class="difficulty section">
							<p class="label">Difficulty</p>
							<p>Skill Floor</p>
							${generateStars(build.difficulty.skillFloor)}
							<p>Skill Ceiling</p>
							${generateStars(build.difficulty.skillCeiling)}
						</div>
						<div class="power section">
							<p class="label">Power</p>
							<p>Single-Target</p>
							${generateStars(build.power.singleTarget)}
							<p>Multi-Target</p>
							${generateStars(build.power.multiTarget)}
						</div>
						</div>
					`;
					}

					// Function to fetch and render builds from JSON file
					async function loadBuilds() {
						const buildsContainer = document.getElementById('builds');
						const errorContainer = document.getElementById('error');
						try {
							const response = await fetch('builds.json');
							if (!response.ok) {
							throw new Error(`Failed to load builds.json: ${response.statusText}`);
							}
							const builds = await response.json();
							buildsContainer.innerHTML = builds.map(renderBuild).join('');
						} catch (error) {
							errorContainer.innerHTML = `<p class="error">Error loading builds: ${error.message}</p>`;
						}
					}

					// Load builds when the page loads
					document.addEventListener('DOMContentLoaded', loadBuilds);
				</script>
			</div>
		</div>

		<script>
			// Show/hide description on tap
			document.querySelectorAll('.toggled-description').forEach(item => {
				item.addEventListener('click', function (e) {
				// Close all others first
				document.querySelectorAll('.toggled-description').forEach(el => {
					if (el !== this) el.classList.remove('show');
				});

				// Toggle current one
				this.classList.toggle('show');

				// Prevent click from bubbling (so body click doesn't close it immediately)
				e.stopPropagation();
				});
			});

			// Close tooltip when tapping elsewhere
			document.body.addEventListener('click', () => {
				document.querySelectorAll('.toggled-description').forEach(el => el.classList.remove('show'));
			});
		</script>
    </body>
</html>
